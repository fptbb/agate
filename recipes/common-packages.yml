---
# yaml-language-server: $schema=https://schema.blue-build.org/module-list-v1.json

modules:
  - type: dnf
    repos:
      cleanup: true
      copr:
        - fptbb/fp-os-meta
        - jloehel/yadm
        - bigjapka/VeraCrypt
        - psygreg/linuxtoys
      files:
        - nordvpn.repo
        - tailscale.repo
        - cloudflare-warp.repo
      keys:
        - https://repo.nordvpn.com/gpg/nordvpn_public.asc
        - https://pkg.cloudflareclient.com/pubkey.gpg
    install:
      skip-unavailable: true
      skip-broken: true
      packages:
        - fp-os-meta
        - nordvpn
        - tailscale
        - yadm
        - veracrypt
        - cloudflare-warp
        - linuxtoys
        - gcc-c++
        - libpcap-devel
  - type: script
    scripts:
      - whatpulse.sh
  - type: systemd
    system:
      enabled:
        - nordvpnd
        - tailscaled
        - whatpulse-pcap-service
